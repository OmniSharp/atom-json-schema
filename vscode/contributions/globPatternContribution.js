'use strict';

Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.GlobPatternContribution = undefined;

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _strings = require('../common/strings');

var _strings2 = _interopRequireDefault(_strings);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var globProperties = [{ type: 'value', displayText: 'Files by Extension', snippet: '"**/*.{{extension}}": true', description: 'Match all files of a specific file extension.' }, { type: 'value', displayText: 'Files with Multiple Extensions', snippet: '"**/*.{ext1,ext2,ext3}": true', description: 'Match all files with any of the file extensions.' }, { type: 'value', displayText: 'Files with Siblings by Name', snippet: '"**/*.{{source-extension}}": { "when": "$(basename).{{target-extension}}" }', description: 'Match files that have siblings with the same name but a different extension.' }, { type: 'value', displayText: 'Folder by Name (Top Level)', snippet: '"{{name}}": true', description: 'Match a top level folder with a specific name.' }, { type: 'value', displayText: 'Folders with Multiple Names (Top Level)', snippet: '"{folder1,folder2,folder3}": true', description: 'Match multiple top level folders.' }, { type: 'value', displayText: 'Folder by Name (Any Location)', snippet: '"**/{{name}}": true', description: 'Match a folder with a specific name in any location.' }];
var globValues = [{ type: 'value', displayText: 'True', snippet: 'true', description: 'Enable the pattern.' }, { type: 'value', displayText: 'False', snippet: 'false', description: 'Disable the pattern.' }, { type: 'value', displayText: 'Files with Siblings by Name', snippet: '{ "when": "$(basename).{{extension}}" }', description: 'Match files that have siblings with the same name but a different extension.' }];

var GlobPatternContribution = exports.GlobPatternContribution = function () {
    function GlobPatternContribution() {
        _classCallCheck(this, GlobPatternContribution);
    }

    _createClass(GlobPatternContribution, [{
        key: 'isSettingsFile',
        value: function isSettingsFile(resource) {
            var path = resource.path;
            return _strings2.default.endsWith(path, '/settings.json');
        }
    }, {
        key: 'collectDefaultSuggestions',
        value: function collectDefaultSuggestions(resource, result) {
            return null;
        }
    }, {
        key: 'collectPropertySuggestions',
        value: function collectPropertySuggestions(resource, location, currentWord, addValue, isLast, result) {
            if (this.isSettingsFile(resource) && (location.matches(['files.exclude']) || location.matches(['search.exclude']))) {
                globProperties.forEach(function (e) {
                    return result.add(e);
                });
            }
            return null;
        }
    }, {
        key: 'collectValueSuggestions',
        value: function collectValueSuggestions(resource, location, currentKey, result) {
            if (this.isSettingsFile(resource) && (location.matches(['files.exclude']) || location.matches(['search.exclude']))) {
                globValues.forEach(function (e) {
                    return result.add(e);
                });
            }
            return null;
        }
    }, {
        key: 'getInfoContribution',
        value: function getInfoContribution(resource, location) {
            return null;
        }
    }]);

    return GlobPatternContribution;
}();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZzY29kZS9jb250cmlidXRpb25zL2dsb2JQYXR0ZXJuQ29udHJpYnV0aW9uLnRzIiwidnNjb2RlL2NvbnRyaWJ1dGlvbnMvZ2xvYlBhdHRlcm5Db250cmlidXRpb24uanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBSUE7Ozs7Ozs7OztBQ0hBOzs7Ozs7OztBRFdBLElBQUksaUJBQThCLENBQzlCLEVBQUUsTUFBTSxPQUFSLEVBQWlCLGlDQUFqQixFQUFvRCxTQUFTLDRCQUE3RCxFQUEyRiw0REFBM0YsRUFEOEIsRUFFOUIsRUFBRSxNQUFNLE9BQVIsRUFBaUIsNkNBQWpCLEVBQWdFLFNBQVMsK0JBQXpFLEVBQTBHLCtEQUExRyxFQUY4QixFQUc5QixFQUFFLE1BQU0sT0FBUixFQUFpQiwwQ0FBakIsRUFBNkQsU0FBUyw2RUFBdEUsRUFBcUosMkZBQXJKLEVBSDhCLEVBSTlCLEVBQUUsTUFBTSxPQUFSLEVBQWlCLHlDQUFqQixFQUE0RCxTQUFTLGtCQUFyRSxFQUF5Riw2REFBekYsRUFKOEIsRUFLOUIsRUFBRSxNQUFNLE9BQVIsRUFBaUIsc0RBQWpCLEVBQXlFLFNBQVMsbUNBQWxGLEVBQXVILGdEQUF2SCxFQUw4QixFQU05QixFQUFFLE1BQU0sT0FBUixFQUFpQiw0Q0FBakIsRUFBK0QsU0FBUyxxQkFBeEUsRUFBK0YsbUVBQS9GLEVBTjhCLENBQWxDO0FBU0EsSUFBSSxhQUEwQixDQUMxQixFQUFFLE1BQU0sT0FBUixFQUFpQixtQkFBakIsRUFBc0MsU0FBUyxNQUEvQyxFQUF1RCxrQ0FBdkQsRUFEMEIsRUFFMUIsRUFBRSxNQUFNLE9BQVIsRUFBaUIsb0JBQWpCLEVBQXVDLFNBQVMsT0FBaEQsRUFBeUQsbUNBQXpELEVBRjBCLEVBRzFCLEVBQUUsTUFBTSxPQUFSLEVBQWlCLDBDQUFqQixFQUE2RCxTQUFTLHlDQUF0RSxFQUFpSCwyRkFBakgsRUFIMEIsQ0FBOUI7O0lBTUEsdUIsV0FBQSx1QjtBQUVJLHVDQUFBO0FBQUE7QUFDQzs7Ozt1Q0FFc0IsUSxFQUFhO0FBQ2hDLGdCQUFJLE9BQU8sU0FBUyxJQUFwQjtBQUNBLG1CQUFPLGtCQUFRLFFBQVIsQ0FBaUIsSUFBakIsRUFBdUIsZ0JBQXZCLENBQVA7QUFDSDs7O2tEQUVnQyxRLEVBQWUsTSxFQUF3QztBQUNwRixtQkFBTyxJQUFQO0FBQ0g7OzttREFFaUMsUSxFQUFlLFEsRUFBd0IsVyxFQUFxQixRLEVBQW1CLE0sRUFBZ0IsTSxFQUF3QztBQUNySyxnQkFBSSxLQUFLLGNBQUwsQ0FBb0IsUUFBcEIsTUFBa0MsU0FBUyxPQUFULENBQWlCLENBQUMsZUFBRCxDQUFqQixLQUF1QyxTQUFTLE9BQVQsQ0FBaUIsQ0FBQyxnQkFBRCxDQUFqQixDQUF6RSxDQUFKLEVBQW9IO0FBRWhILCtCQUFlLE9BQWYsQ0FBdUIsVUFBQyxDQUFEO0FBQUEsMkJBQU8sT0FBTyxHQUFQLENBQVcsQ0FBWCxDQUFQO0FBQUEsaUJBQXZCO0FBQ0g7QUFFRCxtQkFBTyxJQUFQO0FBQ0g7OztnREFFOEIsUSxFQUFlLFEsRUFBd0IsVSxFQUFvQixNLEVBQXdDO0FBQzlILGdCQUFJLEtBQUssY0FBTCxDQUFvQixRQUFwQixNQUFrQyxTQUFTLE9BQVQsQ0FBaUIsQ0FBQyxlQUFELENBQWpCLEtBQXVDLFNBQVMsT0FBVCxDQUFpQixDQUFDLGdCQUFELENBQWpCLENBQXpFLENBQUosRUFBb0g7QUFFaEgsMkJBQVcsT0FBWCxDQUFtQixVQUFDLENBQUQ7QUFBQSwyQkFBTyxPQUFPLEdBQVAsQ0FBVyxDQUFYLENBQVA7QUFBQSxpQkFBbkI7QUFDSDtBQUVELG1CQUFPLElBQVA7QUFDSDs7OzRDQUUwQixRLEVBQWUsUSxFQUFzQjtBQUM1RCxtQkFBTyxJQUFQO0FBQ0giLCJmaWxlIjoidnNjb2RlL2NvbnRyaWJ1dGlvbnMvZ2xvYlBhdHRlcm5Db250cmlidXRpb24uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiAgQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbiAqICBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIExpY2Vuc2UuIFNlZSBMaWNlbnNlLnR4dCBpbiB0aGUgcHJvamVjdCByb290IGZvciBsaWNlbnNlIGluZm9ybWF0aW9uLlxyXG4gKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cclxuJ3VzZSBzdHJpY3QnO1xyXG5cclxuaW1wb3J0IEh0bWxDb250ZW50IGZyb20gJy4uL2NvbW1vbi9odG1sQ29udGVudCc7XHJcbmltcG9ydCBTdHJpbmdzIGZyb20gJy4uL2NvbW1vbi9zdHJpbmdzJztcclxuaW1wb3J0IEpTT05Xb3JrZXIgZnJvbSAnLi4vanNvbldvcmtlcic7XHJcbmltcG9ydCBVUkkgZnJvbSAnLi4vY29tbW9uL3VyaSc7XHJcbmltcG9ydCB7SlNPTkxvY2F0aW9ufSBmcm9tICcuLi9wYXJzZXIvanNvbkxvY2F0aW9uJztcclxuXHJcbnZhciBnbG9iUHJvcGVydGllczpTdWdnZXN0aW9uW10gPSBbXHJcbiAgICB7IHR5cGU6ICd2YWx1ZScsIGRpc3BsYXlUZXh0OiBgRmlsZXMgYnkgRXh0ZW5zaW9uYCwgc25pcHBldDogJ1wiKiovKi57e2V4dGVuc2lvbn19XCI6IHRydWUnLCBkZXNjcmlwdGlvbjogYE1hdGNoIGFsbCBmaWxlcyBvZiBhIHNwZWNpZmljIGZpbGUgZXh0ZW5zaW9uLmB9LFxyXG4gICAgeyB0eXBlOiAndmFsdWUnLCBkaXNwbGF5VGV4dDogYEZpbGVzIHdpdGggTXVsdGlwbGUgRXh0ZW5zaW9uc2AsIHNuaXBwZXQ6ICdcIioqLyoue2V4dDEsZXh0MixleHQzfVwiOiB0cnVlJywgZGVzY3JpcHRpb246IGBNYXRjaCBhbGwgZmlsZXMgd2l0aCBhbnkgb2YgdGhlIGZpbGUgZXh0ZW5zaW9ucy5gfSxcclxuICAgIHsgdHlwZTogJ3ZhbHVlJywgZGlzcGxheVRleHQ6IGBGaWxlcyB3aXRoIFNpYmxpbmdzIGJ5IE5hbWVgLCBzbmlwcGV0OiAnXCIqKi8qLnt7c291cmNlLWV4dGVuc2lvbn19XCI6IHsgXCJ3aGVuXCI6IFwiJChiYXNlbmFtZSkue3t0YXJnZXQtZXh0ZW5zaW9ufX1cIiB9JywgZGVzY3JpcHRpb246IGBNYXRjaCBmaWxlcyB0aGF0IGhhdmUgc2libGluZ3Mgd2l0aCB0aGUgc2FtZSBuYW1lIGJ1dCBhIGRpZmZlcmVudCBleHRlbnNpb24uYH0sXHJcbiAgICB7IHR5cGU6ICd2YWx1ZScsIGRpc3BsYXlUZXh0OiBgRm9sZGVyIGJ5IE5hbWUgKFRvcCBMZXZlbClgLCBzbmlwcGV0OiAnXCJ7e25hbWV9fVwiOiB0cnVlJywgZGVzY3JpcHRpb246IGBNYXRjaCBhIHRvcCBsZXZlbCBmb2xkZXIgd2l0aCBhIHNwZWNpZmljIG5hbWUuYH0sXHJcbiAgICB7IHR5cGU6ICd2YWx1ZScsIGRpc3BsYXlUZXh0OiBgRm9sZGVycyB3aXRoIE11bHRpcGxlIE5hbWVzIChUb3AgTGV2ZWwpYCwgc25pcHBldDogJ1wie2ZvbGRlcjEsZm9sZGVyMixmb2xkZXIzfVwiOiB0cnVlJywgZGVzY3JpcHRpb246IGBNYXRjaCBtdWx0aXBsZSB0b3AgbGV2ZWwgZm9sZGVycy5gfSxcclxuICAgIHsgdHlwZTogJ3ZhbHVlJywgZGlzcGxheVRleHQ6IGBGb2xkZXIgYnkgTmFtZSAoQW55IExvY2F0aW9uKWAsIHNuaXBwZXQ6ICdcIioqL3t7bmFtZX19XCI6IHRydWUnLCBkZXNjcmlwdGlvbjogYE1hdGNoIGEgZm9sZGVyIHdpdGggYSBzcGVjaWZpYyBuYW1lIGluIGFueSBsb2NhdGlvbi5gfSxcclxuXTtcclxuXHJcbnZhciBnbG9iVmFsdWVzOlN1Z2dlc3Rpb25bXSA9IFtcclxuICAgIHsgdHlwZTogJ3ZhbHVlJywgZGlzcGxheVRleHQ6IGBUcnVlYCwgc25pcHBldDogJ3RydWUnLCBkZXNjcmlwdGlvbjogYEVuYWJsZSB0aGUgcGF0dGVybi5gfSxcclxuICAgIHsgdHlwZTogJ3ZhbHVlJywgZGlzcGxheVRleHQ6IGBGYWxzZWAsIHNuaXBwZXQ6ICdmYWxzZScsIGRlc2NyaXB0aW9uOiBgRGlzYWJsZSB0aGUgcGF0dGVybi5gfSxcclxuICAgIHsgdHlwZTogJ3ZhbHVlJywgZGlzcGxheVRleHQ6IGBGaWxlcyB3aXRoIFNpYmxpbmdzIGJ5IE5hbWVgLCBzbmlwcGV0OiAneyBcIndoZW5cIjogXCIkKGJhc2VuYW1lKS57e2V4dGVuc2lvbn19XCIgfScsIGRlc2NyaXB0aW9uOiBgTWF0Y2ggZmlsZXMgdGhhdCBoYXZlIHNpYmxpbmdzIHdpdGggdGhlIHNhbWUgbmFtZSBidXQgYSBkaWZmZXJlbnQgZXh0ZW5zaW9uLmB9XHJcbl07XHJcblxyXG5leHBvcnQgY2xhc3MgR2xvYlBhdHRlcm5Db250cmlidXRpb24gaW1wbGVtZW50cyBKU09OV29ya2VyLklKU09OV29ya2VyQ29udHJpYnV0aW9uIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGlzU2V0dGluZ3NGaWxlKHJlc291cmNlOiBVUkkpOiBib29sZWFuIHtcclxuICAgICAgICB2YXIgcGF0aCA9IHJlc291cmNlLnBhdGg7XHJcbiAgICAgICAgcmV0dXJuIFN0cmluZ3MuZW5kc1dpdGgocGF0aCwgJy9zZXR0aW5ncy5qc29uJyk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbGxlY3REZWZhdWx0U3VnZ2VzdGlvbnMocmVzb3VyY2U6IFVSSSwgcmVzdWx0OiBKU09OV29ya2VyLklTdWdnZXN0aW9uc0NvbGxlY3Rvcik6IFByb21pc2U8YW55PiB7XHJcbiAgICAgICAgcmV0dXJuIG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGNvbGxlY3RQcm9wZXJ0eVN1Z2dlc3Rpb25zKHJlc291cmNlOiBVUkksIGxvY2F0aW9uOiBKU09OTG9jYXRpb24sIGN1cnJlbnRXb3JkOiBzdHJpbmcsIGFkZFZhbHVlOiBib29sZWFuLCBpc0xhc3Q6Ym9vbGVhbiwgcmVzdWx0OiBKU09OV29ya2VyLklTdWdnZXN0aW9uc0NvbGxlY3RvcikgOiBQcm9taXNlPGFueT4ge1xyXG4gICAgICAgIGlmICh0aGlzLmlzU2V0dGluZ3NGaWxlKHJlc291cmNlKSAmJiAobG9jYXRpb24ubWF0Y2hlcyhbJ2ZpbGVzLmV4Y2x1ZGUnXSkgfHwgbG9jYXRpb24ubWF0Y2hlcyhbJ3NlYXJjaC5leGNsdWRlJ10pKSkge1xyXG5cclxuICAgICAgICAgICAgZ2xvYlByb3BlcnRpZXMuZm9yRWFjaCgoZSkgPT4gcmVzdWx0LmFkZChlKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgY29sbGVjdFZhbHVlU3VnZ2VzdGlvbnMocmVzb3VyY2U6IFVSSSwgbG9jYXRpb246IEpTT05Mb2NhdGlvbiwgY3VycmVudEtleTogc3RyaW5nLCByZXN1bHQ6IEpTT05Xb3JrZXIuSVN1Z2dlc3Rpb25zQ29sbGVjdG9yKTogUHJvbWlzZTxhbnk+IHtcclxuICAgICAgICBpZiAodGhpcy5pc1NldHRpbmdzRmlsZShyZXNvdXJjZSkgJiYgKGxvY2F0aW9uLm1hdGNoZXMoWydmaWxlcy5leGNsdWRlJ10pIHx8IGxvY2F0aW9uLm1hdGNoZXMoWydzZWFyY2guZXhjbHVkZSddKSkpIHtcclxuXHJcbiAgICAgICAgICAgIGdsb2JWYWx1ZXMuZm9yRWFjaCgoZSkgPT4gcmVzdWx0LmFkZChlKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBwdWJsaWMgZ2V0SW5mb0NvbnRyaWJ1dGlvbihyZXNvdXJjZTogVVJJLCBsb2NhdGlvbjogSlNPTkxvY2F0aW9uKTogUHJvbWlzZTxIdG1sQ29udGVudC5JSFRNTENvbnRlbnRFbGVtZW50W10+IHtcclxuICAgICAgICByZXR1cm4gbnVsbDtcclxuICAgIH1cclxufVxyXG4iLCIndXNlIHN0cmljdCc7XG5pbXBvcnQgU3RyaW5ncyBmcm9tICcuLi9jb21tb24vc3RyaW5ncyc7XG52YXIgZ2xvYlByb3BlcnRpZXMgPSBbXG4gICAgeyB0eXBlOiAndmFsdWUnLCBkaXNwbGF5VGV4dDogYEZpbGVzIGJ5IEV4dGVuc2lvbmAsIHNuaXBwZXQ6ICdcIioqLyoue3tleHRlbnNpb259fVwiOiB0cnVlJywgZGVzY3JpcHRpb246IGBNYXRjaCBhbGwgZmlsZXMgb2YgYSBzcGVjaWZpYyBmaWxlIGV4dGVuc2lvbi5gIH0sXG4gICAgeyB0eXBlOiAndmFsdWUnLCBkaXNwbGF5VGV4dDogYEZpbGVzIHdpdGggTXVsdGlwbGUgRXh0ZW5zaW9uc2AsIHNuaXBwZXQ6ICdcIioqLyoue2V4dDEsZXh0MixleHQzfVwiOiB0cnVlJywgZGVzY3JpcHRpb246IGBNYXRjaCBhbGwgZmlsZXMgd2l0aCBhbnkgb2YgdGhlIGZpbGUgZXh0ZW5zaW9ucy5gIH0sXG4gICAgeyB0eXBlOiAndmFsdWUnLCBkaXNwbGF5VGV4dDogYEZpbGVzIHdpdGggU2libGluZ3MgYnkgTmFtZWAsIHNuaXBwZXQ6ICdcIioqLyoue3tzb3VyY2UtZXh0ZW5zaW9ufX1cIjogeyBcIndoZW5cIjogXCIkKGJhc2VuYW1lKS57e3RhcmdldC1leHRlbnNpb259fVwiIH0nLCBkZXNjcmlwdGlvbjogYE1hdGNoIGZpbGVzIHRoYXQgaGF2ZSBzaWJsaW5ncyB3aXRoIHRoZSBzYW1lIG5hbWUgYnV0IGEgZGlmZmVyZW50IGV4dGVuc2lvbi5gIH0sXG4gICAgeyB0eXBlOiAndmFsdWUnLCBkaXNwbGF5VGV4dDogYEZvbGRlciBieSBOYW1lIChUb3AgTGV2ZWwpYCwgc25pcHBldDogJ1wie3tuYW1lfX1cIjogdHJ1ZScsIGRlc2NyaXB0aW9uOiBgTWF0Y2ggYSB0b3AgbGV2ZWwgZm9sZGVyIHdpdGggYSBzcGVjaWZpYyBuYW1lLmAgfSxcbiAgICB7IHR5cGU6ICd2YWx1ZScsIGRpc3BsYXlUZXh0OiBgRm9sZGVycyB3aXRoIE11bHRpcGxlIE5hbWVzIChUb3AgTGV2ZWwpYCwgc25pcHBldDogJ1wie2ZvbGRlcjEsZm9sZGVyMixmb2xkZXIzfVwiOiB0cnVlJywgZGVzY3JpcHRpb246IGBNYXRjaCBtdWx0aXBsZSB0b3AgbGV2ZWwgZm9sZGVycy5gIH0sXG4gICAgeyB0eXBlOiAndmFsdWUnLCBkaXNwbGF5VGV4dDogYEZvbGRlciBieSBOYW1lIChBbnkgTG9jYXRpb24pYCwgc25pcHBldDogJ1wiKiove3tuYW1lfX1cIjogdHJ1ZScsIGRlc2NyaXB0aW9uOiBgTWF0Y2ggYSBmb2xkZXIgd2l0aCBhIHNwZWNpZmljIG5hbWUgaW4gYW55IGxvY2F0aW9uLmAgfSxcbl07XG52YXIgZ2xvYlZhbHVlcyA9IFtcbiAgICB7IHR5cGU6ICd2YWx1ZScsIGRpc3BsYXlUZXh0OiBgVHJ1ZWAsIHNuaXBwZXQ6ICd0cnVlJywgZGVzY3JpcHRpb246IGBFbmFibGUgdGhlIHBhdHRlcm4uYCB9LFxuICAgIHsgdHlwZTogJ3ZhbHVlJywgZGlzcGxheVRleHQ6IGBGYWxzZWAsIHNuaXBwZXQ6ICdmYWxzZScsIGRlc2NyaXB0aW9uOiBgRGlzYWJsZSB0aGUgcGF0dGVybi5gIH0sXG4gICAgeyB0eXBlOiAndmFsdWUnLCBkaXNwbGF5VGV4dDogYEZpbGVzIHdpdGggU2libGluZ3MgYnkgTmFtZWAsIHNuaXBwZXQ6ICd7IFwid2hlblwiOiBcIiQoYmFzZW5hbWUpLnt7ZXh0ZW5zaW9ufX1cIiB9JywgZGVzY3JpcHRpb246IGBNYXRjaCBmaWxlcyB0aGF0IGhhdmUgc2libGluZ3Mgd2l0aCB0aGUgc2FtZSBuYW1lIGJ1dCBhIGRpZmZlcmVudCBleHRlbnNpb24uYCB9XG5dO1xuZXhwb3J0IGNsYXNzIEdsb2JQYXR0ZXJuQ29udHJpYnV0aW9uIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICB9XG4gICAgaXNTZXR0aW5nc0ZpbGUocmVzb3VyY2UpIHtcbiAgICAgICAgdmFyIHBhdGggPSByZXNvdXJjZS5wYXRoO1xuICAgICAgICByZXR1cm4gU3RyaW5ncy5lbmRzV2l0aChwYXRoLCAnL3NldHRpbmdzLmpzb24nKTtcbiAgICB9XG4gICAgY29sbGVjdERlZmF1bHRTdWdnZXN0aW9ucyhyZXNvdXJjZSwgcmVzdWx0KSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb2xsZWN0UHJvcGVydHlTdWdnZXN0aW9ucyhyZXNvdXJjZSwgbG9jYXRpb24sIGN1cnJlbnRXb3JkLCBhZGRWYWx1ZSwgaXNMYXN0LCByZXN1bHQpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTZXR0aW5nc0ZpbGUocmVzb3VyY2UpICYmIChsb2NhdGlvbi5tYXRjaGVzKFsnZmlsZXMuZXhjbHVkZSddKSB8fCBsb2NhdGlvbi5tYXRjaGVzKFsnc2VhcmNoLmV4Y2x1ZGUnXSkpKSB7XG4gICAgICAgICAgICBnbG9iUHJvcGVydGllcy5mb3JFYWNoKChlKSA9PiByZXN1bHQuYWRkKGUpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29sbGVjdFZhbHVlU3VnZ2VzdGlvbnMocmVzb3VyY2UsIGxvY2F0aW9uLCBjdXJyZW50S2V5LCByZXN1bHQpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTZXR0aW5nc0ZpbGUocmVzb3VyY2UpICYmIChsb2NhdGlvbi5tYXRjaGVzKFsnZmlsZXMuZXhjbHVkZSddKSB8fCBsb2NhdGlvbi5tYXRjaGVzKFsnc2VhcmNoLmV4Y2x1ZGUnXSkpKSB7XG4gICAgICAgICAgICBnbG9iVmFsdWVzLmZvckVhY2goKGUpID0+IHJlc3VsdC5hZGQoZSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBnZXRJbmZvQ29udHJpYnV0aW9uKHJlc291cmNlLCBsb2NhdGlvbikge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
